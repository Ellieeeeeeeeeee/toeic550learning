<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>文法測驗｜關係代名詞與過去式</title>

    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
            background-color: #ffffff;
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: #62B5E5;
            margin-top: 20px;
        }

        .question {
            border: 2px solid #62B5E5;
            border-radius: 10px;
            padding: 20px;
            margin: 20px auto;
            max-width: 700px;
            text-align: left; /* ← 題目與答案靠左 */
        }

        .options {
            margin-top: 10px;
        }

        .options label {
            display: block;
            margin: 6px 0;
            cursor: pointer;
        }

        button {
            display: block;
            margin: 30px auto;
            padding: 10px 30px;
            background-color: #62B5E5;
            color: white;
            border: none;
            border-radius: 20px;
            font-size: 16px;
            cursor: pointer;
        }

        .result {
            text-align: center;
            font-size: 18px;
            margin-top: 20px;
        }

        .explanation {
            margin-top: 12px;
            padding: 10px;
            background-color: #f0f8fc;
            border-radius: 6px;
            display: none;
        }

        .correct {
            color: green;
            font-weight: bold;
        }
    </style>
</head>
<body>

<!-- 導覽列 -->
<nav style="display:flex; justify-content:center; margin-top:20px;">
    <a href="index.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">首頁</a>
    <a href="test1.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">文法練功房</a>
    <a href="test2.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">閱讀測驗</a>
    <a href="test3.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">文法測驗</a>
    <a href="test4.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">片語測驗</a>
    <a href="about.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">製作團隊</a>
</nav>

<h1>文法測驗：關係代名詞子句 & 過去式</h1>

<div id="quiz"></div>

<button onclick="submitQuiz()">送出作答</button>

<div id="result" class="result"></div>

<script>
const questions = [
    {
        q: "1. The man _____ helped me yesterday was very kind.",
        options: ["which", "who", "when", "where"],
        answer: 1,
        exp: "先行詞是人，關係代名詞作主詞，用 who。"
    },
    {
        q: "2. I remember the day _____ we met.",
        options: ["which", "when", "where", "who"],
        answer: 1,
        exp: "day 是時間名詞，使用 when。"
    },
    {
        q: "3. This is the book _____ I bought last week.",
        options: ["who", "which", "where", "when"],
        answer: 1,
        exp: "book 是物，關係代名詞作受詞，用 which。"
    },
    {
        q: "4. I met a girl _____ brother is a doctor.",
        options: ["who", "whose", "which", "where"],
        answer: 1,
        exp: "whose 表示所屬關係（她的哥哥）。"
    },
    {
        q: "5. The restaurant _____ we had dinner was famous.",
        options: ["which", "who", "where", "when"],
        answer: 2,
        exp: "restaurant 是地點，使用 where。"
    },
    {
        q: "6. We _____ the movie last weekend.",
        options: ["watch", "watched", "watches", "watching"],
        answer: 1,
        exp: "watch a movie 為慣用語，過去式為 watched。"
    },
    {
        q: "7. She _____ a letter last night.",
        options: ["write", "writes", "wrote", "written"],
        answer: 2,
        exp: "write 的過去式是不規則變化 wrote。"
    },
    {
        q: "8. He _____ late for class this morning.",
        options: ["is", "was", "were", "be"],
        answer: 1,
        exp: "主詞是 he，過去式用 was。"
    },
    {
        q: "9. The movie _____ we watched was interesting.",
        options: ["who", "which", "where", "when"],
        answer: 1,
        exp: "movie 是物，關係代名詞用 which。"
    },
    {
        q: "10. They _____ dinner at home yesterday.",
        options: ["have", "has", "had", "having"],
        answer: 2,
        exp: "have 的過去式是 had。"
    }
];

const quizDiv = document.getElementById("quiz");

questions.forEach((item, index) => {
    const qDiv = document.createElement("div");
    qDiv.className = "question";
    qDiv.innerHTML = `<p><strong>${item.q}</strong></p>`;

    const optDiv = document.createElement("div");
    optDiv.className = "options";

    item.options.forEach((opt, i) => {
        optDiv.innerHTML += `
            <label>
                <input type="radio" name="q${index}" value="${i}">
                ${opt}
            </label>`;
    });

    qDiv.appendChild(optDiv);

    const expDiv = document.createElement("div");
    expDiv.className = "explanation";
    expDiv.id = "exp" + index;
    qDiv.appendChild(expDiv);

    quizDiv.appendChild(qDiv);
});

function submitQuiz() {
    let correct = 0;

    questions.forEach((item, index) => {
        const radios = document.getElementsByName("q" + index);
        let selected = -1;

        radios.forEach(r => {
            if (r.checked) selected = parseInt(r.value);
        });

        const expDiv = document.getElementById("exp" + index);
        expDiv.style.display = "block";

        if (selected === item.answer) {
            correct++;
            expDiv.innerHTML = `<span class="correct">✔ 正確</span><br>
            正確答案：${item.options[item.answer]}<br>
            解析：${item.exp}`;
        } else {
            expDiv.innerHTML = `✘ 錯誤<br>
            正確答案：${item.options[item.answer]}<br>
            解析：${item.exp}`;
        }
    });

    document.getElementById("result").innerText =
        `答對題數：${correct} / ${questions.length}`;
}
</script>

</body>
</html>
