<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TOEIC550 Phrase Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f7fa;
      padding: 30px;
      display: flex;
      justify-content: center;
    }
    .container {
      background: white;
      width: 90%;
      max-width: 650px;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #333;
    }
    .question-box {
      margin-top: 20px;
      font-size: 1.2em;
      font-weight: bold;
    }
    .options button {
      width: 100%;
      margin-top: 10px;
      padding: 12px;
      border-radius: 10px;
      border: none;
      font-size: 1em;
      background: #e9eef5;
      cursor: pointer;
      transition: 0.25s;
    }
    .options button:hover {
      background: #d0d9e6;
    }
    #feedback {
      margin-top: 15px;
      font-size: 1.1em;
      font-weight: bold;
    }
    #explanation {
      margin-top: 10px;
      padding: 10px;
      border-left: 4px solid #6b9dfc;
      background: #f0f4ff;
      border-radius: 6px;
      display: none;
    }
    #scoreBox {
      text-align: center;
      margin-top: 20px;
      font-size: 1.2em;
    }
    #nextBtn {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      font-size: 1.1em;
      background: #6b9dfc;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      display: none;
    }
  </style>
</head>
<body>

<div class="container">

<!-- 導覽列 -->
<nav style="display:flex; justify-content:center; margin-top:10px; margin-bottom:20px;">
  <a href="index.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">首頁</a>
  <a href="test1.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">文法練功房</a>
  <a href="test2.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">閱讀測驗</a>
  <a href="test3.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">文法測驗</a>
  <a href="test4.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">片語測驗</a>
  <a href="about.html" style="color:#62B5E5; margin:0 12px; text-decoration:none; font-weight:bold;">製作團隊</a>
</nav>

<h2>TOEIC550 Phrase Test</h2>
<div id="scoreBox">Score: 0</div>

<div class="question-box" id="question"></div>
<div class="options" id="options"></div>

<div id="feedback"></div>
<div id="explanation"></div>

<button id="nextBtn" onclick="nextQuestion()">Next Question</button>
</div>

<script>
let score = 0;
let currentIndex = -1;

/* ===== 50 個英文片語題庫（20 + 30）===== */
const phrasePool = [
  "at work","blow off steam","take a rain check","keep in touch","hit the hay",
  "break a leg","burn the midnight oil","a piece of cake","call it a day",
  "pull someone's leg","get out of hand","curiosity killed the cat",
  "hang out with","put on","leave no stone unturned","take it easy",
  "take the plunge","walk on eggshells","you're welcome","you bet",

  "make someone's day","call off","hang up","hand in","point out",
  "look after","go over","call on","take after","wait on"
];

/* ===== 題目（英文句子填空）===== */
const questions = [
  {
    sentence: "I'm really tired. I think I'll _____ and go to sleep.",
    answer: "hit the hay",
    exp: "hit the hay = go to bed"
  },
  {
    sentence: "After the exam, we went out to _____ and relax.",
    answer: "blow off steam",
    exp: "blow off steam = release stress"
  },
  {
    sentence: "This task is so easy. It's _____!",
    answer: "a piece of cake",
    exp: "a piece of cake = very easy"
  },
  {
    sentence: "The teacher asked me to _____ my homework by Friday.",
    answer: "hand in",
    exp: "hand in = submit"
  },
  {
    sentence: "Let's _____ after work and grab dinner.",
    answer: "hang out with",
    exp: "hang out with = spend time together"
  }
];

function shuffle(array){
  for(let i=array.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

shuffle(questions);

function loadQuestion(){
  currentIndex++;
  if(currentIndex >= questions.length){
    document.getElementById("question").innerHTML = "Quiz Completed!";
    document.getElementById("options").innerHTML = "";
    document.getElementById("feedback").innerHTML = "Final Score: " + score;
    document.getElementById("nextBtn").style.display = "none";
    return;
  }

  let q = questions[currentIndex];
  document.getElementById("question").innerHTML = q.sentence.replace("_____", "______");
  document.getElementById("feedback").innerHTML = "";
  document.getElementById("explanation").style.display = "none";
  document.getElementById("nextBtn").style.display = "none";

  let wrongOptions = phrasePool.filter(p => p !== q.answer);
  shuffle(wrongOptions);

  let options = wrongOptions.slice(0,3);
  options.push(q.answer);
  shuffle(options);

  document.getElementById("options").innerHTML = options
    .map(opt => `<button onclick="check('${opt}')">${opt}</button>`)
    .join("");
}

function check(answer){
  let q = questions[currentIndex];
  if(answer === q.answer){
    score += 5;
    document.getElementById("feedback").innerHTML = "✔ Correct! +5 points";
    document.getElementById("scoreBox").innerHTML = "Score: " + score;
  } else {
    document.getElementById("feedback").innerHTML = "✘ Incorrect";
  }

  document.getElementById("explanation").innerHTML = q.exp;
  document.getElementById("explanation").style.display = "block";
  document.getElementById("nextBtn").style.display = "block";
  document.getElementById("options").innerHTML = "";
}

function nextQuestion(){ loadQuestion(); }

loadQuestion();
</script>
</body>
</html>







